(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-06f3da56"],{"4de4":function(t,e,a){"use strict";var o=a("23e7"),l=a("b727").filter,n=a("1dde"),s=n("filter");o({target:"Array",proto:!0,forced:!s},{filter:function(t){return l(this,t,arguments.length>1?arguments[1]:void 0)}})},5530:function(t,e,a){"use strict";a.d(e,"a",(function(){return n}));a("b64b"),a("a4d3"),a("4de4"),a("e439"),a("159b"),a("dbb4");function o(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function l(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,o)}return a}function n(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?l(Object(a),!0).forEach((function(e){o(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}},"5c7a":function(t,e,a){},dbb4:function(t,e,a){var o=a("23e7"),l=a("83ab"),n=a("56ef"),s=a("fc6a"),i=a("06cf"),r=a("8418");o({target:"Object",stat:!0,sham:!l},{getOwnPropertyDescriptors:function(t){var e,a,o=s(t),l=i.f,c=n(o),p={},d=0;while(c.length>d)a=l(o,e=c[d++]),void 0!==a&&r(p,e,a);return p}})},e2df:function(t,e,a){"use strict";a("5c7a")},e439:function(t,e,a){var o=a("23e7"),l=a("d039"),n=a("fc6a"),s=a("06cf").f,i=a("83ab"),r=l((function(){s(1)})),c=!i||r;o({target:"Object",stat:!0,forced:c,sham:!i},{getOwnPropertyDescriptor:function(t,e){return s(n(t),e)}})},ec67:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"build-detail"},[a("div",{staticClass:"flex items-center"},[a("h3",{staticClass:"v-mr-auto"},[t._v("创建资源")]),a("a-button",{attrs:{size:"small"},on:{click:function(e){return t.$router.push("list")}}},[t._v("返回列表")])],1),a("a-divider"),a("div",{staticClass:"build-form"},[a("a-form-model",{ref:"ruleForm",attrs:{model:t.form}},[a("a-row",{attrs:{gutter:24}},[a("a-col",{attrs:{span:24}},[a("a-form-model-item",{attrs:{label:"标题",prop:"title"}},[a("a-input",{attrs:{placeholder:"标题"},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1)],1),a("a-col",{attrs:{span:12}},[a("a-form-model-item",{attrs:{label:"分类",prop:"cate"}},[a("a-select",{staticStyle:{width:"200px"},attrs:{"default-value":t.form.cate},on:{change:t.onCateChange},model:{value:t.form.cate,callback:function(e){t.$set(t.form,"cate",e)},expression:"form.cate"}},[a("a-select-option",{attrs:{value:"办公效率"}},[t._v("办公效率")]),a("a-select-option",{attrs:{value:"职业发展"}},[t._v("职业发展")]),a("a-select-option",{attrs:{value:"编程开发"}},[t._v("编程开发")]),a("a-select-option",{attrs:{value:"产品和设计"}},[t._v("产品和设计")]),a("a-select-option",{attrs:{value:"生活方式"}},[t._v("生活方式")]),a("a-select-option",{attrs:{value:"亲子教育"}},[t._v("亲子教育")]),a("a-select-option",{attrs:{value:"语言学习"}},[t._v("语言学习")])],1)],1)],1),a("a-col",{attrs:{span:12}},[a("a-form-model-item",{attrs:{label:"发布时间",prop:"publishTime"}},[a("a-date-picker",{attrs:{format:"YYYY-MM-DD HH:mm","show-time":""},model:{value:t.form.publishTime,callback:function(e){t.$set(t.form,"publishTime",e)},expression:"form.publishTime"}})],1)],1),a("a-col",{attrs:{span:24}},[a("a-form-model-item",{attrs:{label:"描述",prop:"remark"}},[a("a-textarea",{attrs:{rows:4},model:{value:t.form.remark,callback:function(e){t.$set(t.form,"remark",e)},expression:"form.remark"}})],1)],1),a("a-col",{attrs:{span:24}},[a("a-form-model-item",{attrs:{label:"任务提交内容",prop:"taskDesc"}},[a("a-textarea",{attrs:{rows:4},model:{value:t.form.taskDesc,callback:function(e){t.$set(t.form,"taskDesc",e)},expression:"form.taskDesc"}})],1)],1),a("a-col",{attrs:{span:24}},[a("a-form-model-item",{attrs:{label:"任务评分表",prop:"taskDesc"}},[a("a-upload",{attrs:{action:"https://www.mocky.io/v2/5cc8019d300000980a055e76","list-type":"picture-card","file-list":t.fileList},on:{preview:t.handlePreview,change:t.handleUploadChange}},[t.fileList.length<1?a("div",[a("a-icon",{staticStyle:{"font-size":"24px"},attrs:{type:"cloud-upload"}}),a("div",{staticClass:"ant-upload-text"},[t._v("点击或拖拽文件至此区域上传")])],1):t._e()])],1)],1)],1),a("a-form-model-item",{attrs:{label:"资源详情",prop:"content"}},[a("div",{ref:"content",staticClass:"content-container",staticStyle:{height:"1000px"}},[a("div",{staticClass:"content-catalogs full-height",staticStyle:{"border-right":"1px solid #ccc"}},[a("div",{staticClass:"content-header flex items-center"},[a("span",[t._v("目录")]),a("div",{staticClass:"v-ml-auto"},[a("a-button-group",{attrs:{size:"small"}},[a("a-button",{staticClass:"v-ml-xs",attrs:{type:"link",icon:"plus",title:"添加章节"}}),a("a-button",{staticClass:"v-ml-xs",attrs:{type:"link",icon:t.expandedKeys.length?"folder-open":"folder",title:"收缩/展开"},on:{click:function(e){t.expandedKeys=[]}}})],1)],1)]),a("div",{staticClass:"catalogs-list",on:{contextmenu:function(e){return e.preventDefault(),t.onContextMenu(e)}}},[a("a-tree",{staticClass:"draggable-tree",attrs:{"default-expand-all":"","show-line":"","default-expanded-keys":t.expandedKeys,expandedKeys:t.expandedKeys,draggable:"","tree-data":t.nodeList},on:{"update:expandedKeys":function(e){t.expandedKeys=e},"update:expanded-keys":function(e){t.expandedKeys=e},select:t.onSelect,dragenter:t.onDragEnter,drop:t.onDrop}})],1),a("div",{ref:"nodeMenu",staticClass:"node-menu shadow-8 bg-orange-1",on:{mouseout:t.onMouseOut,mouseover:t.onMouseOver}},[a("div",{staticClass:"node-menu-actions font-xs"},[a("div",{staticClass:"node-menu-action flex items-center text-no-wrap"},[a("a-icon",{staticClass:"font-sm",attrs:{type:"edit"}}),t._v("重命名")],1),a("div",{staticClass:"node-menu-action flex items-center text-no-wrap"},[a("a-icon",{staticClass:"font-sm",attrs:{type:"plus-square"}}),t._v("添加子章节")],1),a("div",{staticClass:"node-menu-action flex items-center text-no-wrap"},[a("a-icon",{staticClass:"font-sm",attrs:{type:"close"}}),t._v("删除")],1)])])]),a("div",{staticClass:"content-body v-ml-auto col full-height flex column"},[a("div",{staticClass:"content-header flex items-center"},[a("span",[t._v("内容")]),a("div",{staticClass:"v-ml-auto"},[a("a-space",{attrs:{size:4}},[a("a-button",{attrs:{size:"small",type:"link",icon:"eye",title:"预览"},on:{click:function(e){t.showPreviewModal=!0}}}),a("a-button",{attrs:{size:"small",type:"link",icon:t.fullscreen.isActive?"fullscreen-exit":"fullscreen",title:"全屏"},on:{click:t.toggleFullscreen}})],1)],1)]),a("div",{staticClass:"content-main col",staticStyle:{height:"calc(100% - 320px)"}},[a("tinymce",{ref:"editor",attrs:{id:"myedit"},on:{onClick:t.onEditorClick},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}})],1),t.selectedNode?[a("div",{staticClass:"content-header flex items-center"},[a("span",[t._v("上传文件要求")])]),a("div",{staticClass:"content-main v-pa-sm",staticStyle:{"min-height":"150px"}},[a("a-button",{attrs:{type:"dashed",icon:"plus"},on:{click:t.onAddUploadRow}},[t._v("添加文件上传要求")]),t.catalogMap[t.selectedNode.eventKey]&&t.catalogMap[t.selectedNode.eventKey].uploadList.length?a("table",{staticClass:"table table-bordered table-catalog-upload font-xs"},[a("thead",[a("tr",[a("th",[t._v("文件标题")]),a("th",{attrs:{width:"150"}},[t._v("类型")]),a("th",{attrs:{width:"100"}},[t._v("最大上传数量")]),a("th",{attrs:{width:"80"}},[t._v("操作")])])]),a("tbody",t._l(t.catalogMap[t.selectedNode.eventKey].uploadList,(function(e,o){return a("tr",{key:o},[[a("td",[t._v(t._s(e.title))]),a("td",[t._v(t._s(e.format.join("、")))]),a("td",[t._v(t._s(e.amount))]),a("td",[a("a-space",[a("span",{staticClass:"text-indigo hover-line",on:{click:function(a){return t.onEditUpload(e)}}},[t._v("修改")]),a("span",{staticClass:"text-red hover-line",on:{click:function(e){return t.onDelUpload(o)}}},[t._v("删除")])])],1)]],2)})),0)]):t._e()],1)]:t._e()],2)])]),a("a-form-model-item",[a("a-button",{staticStyle:{width:"100px"},attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v(" 保存 ")]),a("a-button",{staticStyle:{width:"100px","margin-left":"10px"},on:{click:function(e){return t.$router.go(-1)}}},[t._v(" 返回 ")])],1)],1)],1),a("a-modal",{attrs:{centered:"",title:"添加上传文件要求",width:600,okText:"确认",cancelText:"取消"},on:{ok:t.onUploadSubmit},model:{value:t.showUploadModal,callback:function(e){t.showUploadModal=e},expression:"showUploadModal"}},[a("a-form",[a("a-form-item",{attrs:{"label-col":{span:5},"wrapper-col":{span:19},label:"文件标题"}},[a("a-input",{attrs:{placeholder:"输入文件标题"},model:{value:t.uploadForm.title,callback:function(e){t.$set(t.uploadForm,"title",e)},expression:"uploadForm.title"}})],1),a("a-form-item",{attrs:{"label-col":{span:5},"wrapper-col":{span:19},label:"文件类型"}},[a("a-select",{attrs:{mode:"tags",placeholder:"选择文件类型"},model:{value:t.uploadForm.format,callback:function(e){t.$set(t.uploadForm,"format",e)},expression:"uploadForm.format"}},[a("a-select-opt-group",[a("span",{attrs:{slot:"label"},slot:"label"},[t._v("图片")]),a("a-select-option",{attrs:{value:".jpg"}},[a("i",{staticClass:"fa fa-file-image-o text-primary"}),t._v(" jpg")]),a("a-select-option",{attrs:{value:".png"}},[a("i",{staticClass:"fa fa-file-image-o text-primary"}),t._v(" png")]),a("a-select-option",{attrs:{value:".gif"}},[a("i",{staticClass:"fa fa-file-image-o text-primary"}),t._v(" gif")])],1),a("a-select-opt-group",[a("span",{attrs:{slot:"label"},slot:"label"},[t._v("MS文档")]),a("a-select-option",{attrs:{value:".doc"}},[a("i",{staticClass:"fa fa-file-word-o text-primary"}),t._v(" doc，docx")]),a("a-select-option",{attrs:{value:".ppt"}},[a("i",{staticClass:"fa fa-file-powerpoint-o text-primary"}),t._v(" ppt，pptx")]),a("a-select-option",{attrs:{value:".xls"}},[a("i",{staticClass:"fa fa-file-excel-o text-primary"}),t._v(" xls，xlsx")])],1),a("a-select-opt-group",[a("span",{attrs:{slot:"label"},slot:"label"},[t._v("压缩文件")]),a("a-select-option",{attrs:{value:".rar"}},[a("i",{staticClass:"fa fa-file-zip-o text-primary"}),t._v(" rar")]),a("a-select-option",{attrs:{value:".zip"}},[a("i",{staticClass:"fa fa-file-zip-o text-primary"}),t._v(" zip")]),a("a-select-option",{attrs:{value:".7z"}},[a("i",{staticClass:"fa fa-file-zip-o text-primary"}),t._v(" 7z")])],1),a("a-select-opt-group",[a("span",{attrs:{slot:"label"},slot:"label"},[t._v("其他文档")]),a("a-select-option",{attrs:{value:".pdf"}},[a("i",{staticClass:"fa fa-file-pdf-o text-primary"}),t._v(" pdf")]),a("a-select-option",{attrs:{value:".txt"}},[a("i",{staticClass:"fa fa-file-text-o text-primary"}),t._v(" txt")])],1)],1)],1),a("a-form-item",{attrs:{"label-col":{span:5},"wrapper-col":{span:19},label:"最大上传数量"}},[a("a-input-number",{model:{value:t.uploadForm.amount,callback:function(e){t.$set(t.uploadForm,"amount",e)},expression:"uploadForm.amount"}})],1)],1)],1),a("a-modal",{staticClass:"modal-resource",attrs:{centered:"","destroy-on-close":"",title:"预览资源",width:1200,footer:null,"body-style":{padding:"0px"}},model:{value:t.showPreviewModal,callback:function(e){t.showPreviewModal=e},expression:"showPreviewModal"}},[a("resource-view",{attrs:{"show-all":"",modal:"","affix-target":t.affixTarget}})],1)],1)},l=[],n=a("5530"),s=a("2909"),i=(a("ac1f"),a("1276"),a("a9e3"),a("159b"),a("a434"),a("b0c0"),a("1790")),r=a("9579"),c={title:"",format:[],amount:1},p={components:{tinymce:r["a"],ResourceView:i["a"]},data:function(){return{content:"",selectedNodeText:"",form:{id:1,publishTime:"2021-04-20 13:30",materialType:2,title:"B模块 嵌入式编程01",cate:"编程开发",remark:"",taskDesc:"",type:1,staus:2},showPreviewModal:!1,uploadForm:c,expandedKeys:["01","02","03","04","05","06","6-3"],catalogMap:{"01":{content:"本次测试项目设计扫雷游戏。",uploadList:[]},"02":{content:" <p>扫雷是一款经典的大众类的益智小游戏，游戏目标是在最短的时间内根据点击格子出现的数字找出所有非雷格子，同时避免踩雷。分成以下三个任务：</p>\n                <p>1、 阶段一：LCD12864驱动设计（60分钟）；</p>\n                <p>2、 阶段二：基本游戏功能（120分钟）；</p>\n                <p>3、 阶段三：综合游戏设计（180分钟）。</p>",uploadList:[]},"05":{content:"扫雷是一款经典的大众类的益智小游戏，游戏目标是在最短的时间内根据点击格子出现的数字找出所有非雷格子，同时避免踩雷，下面对游戏的一些概念进行解释说明。",uploadList:[]},"5-1":{content:"<p> 周边：指坐标点周边3x3的区域；</p>\n                <p> 地雷点：点阵屏上显示为红色，有地雷的点称作地雷点</p>\n                <p> 危险点：点阵屏上显示为蓝色，周边有地雷的点称作危险点，危险点可以获取周边3x3的区域中地雷数量</p>\n                <p> 安全点：点阵屏上显示为绿色，周边没有地雷的点称作安全点</p>\n                <p> 标记点：点阵屏上显示为紫色，玩家标记的点称为标记点</p>",uploadList:[]},"5-2":{content:"<p> 光标移动：通过拨动摇杆控制光标移动</p>\n                <p> 标记地雷：SW16控制打开/关闭标记操作，使能标记时，单击摇杆按键，光标所在点被标记，如果该点已经标记，则取消标记。</p>\n                <p> 单击打开：在不使能标记时，单击摇杆按键，对于非标记点执行打开操作</p>\n                <p> 双击：在已经打开的危险点上双击，周边标记点的数量等于危险点周边地雷数量，那么打开周边未标记的点</p>",uploadList:[]},"5-3":{content:"CCCCCCCCCCCC",uploadList:[]},"6-1":{content:"<p>本次任务使用串行接口驱动LCD12864，请打开文件《lcd12864.c》和《lcd12864.h》补全相关函数。</p>\n                <p>阶段 1.1</p>\n                <p>串行模式下的接口时序图如下图所示。 串行数据传送共分三个字节完成：</p>\n                <p>第一字节：串口控制—格式 11111AB0 （A 为数据传送方向控制：H 表示数据从 LCD 到 MCU，L 表示数据从 MCU 到 LCD； B 为数据类型选择：H 表示数据是显示数据，L 表示数据是控制指令）</p>\n                <p>第二字节：(并行)8 位数据的高 4 位—格式 DDDD0000</p>\n                <p>第三字节：(并行)8 位数据的低 4 位—格式 DDDD0000</p>\n                <p>详细说明可以参考ST7920的器件手册第26页。</p>\n                <p>请完成函数void sendFrame(uint32_t data)，向LCD12864发送一组数据，data是要发送的一组数据，低24bit有效，从高位开始发送。</p>\n                <p>阶段1.2</p>\n                <p>请实现向LCD12864写控制命令和写数据的函数，这些函数需要调用阶段1.1的函数sendFrame:</p>\n                <p> void writeCmd(uint8_t cByte)，向LCD12864发送控制命令，cByte是控制命令字节；</p>\n                <p> void writeData(uint8_t dByte) ，向LCD12864发送数据，dByte是要发送的数据字节；</p>\n                <p>在《user_function.c》的setup函数中已经写了LCD的测试用例，如果你的答案正确，可以在LCD屏幕上看到“LCD12864工作正常”的字样。</p>",uploadList:[]},"6-1-1":{content:"串行模式下的接口时序图如下图所示。 串行数据传送共分三个字节完成：",uploadList:[]},"6-3-1":{content:"<p>在LCD的第二行显示“游戏时长: MM:SS ”,MM为分钟数，SS为秒钟数，保留前置0，时间为当前局游戏的持续时间。</p>",uploadList:[]}},fileList:[],nodeList:[{key:"01",title:"简介"},{key:"02",title:"任务描述"},{key:"03",title:"编程环境"},{key:"04",title:"接口表",children:[]},{key:"05",title:"游戏说明",children:[{key:"5-1",title:"定义说明"},{key:"5-2",title:"操作说明"},{key:"5-3",title:"游戏裁决",isLeaf:!0}]},{key:"06",title:"编程任务",children:[{key:"6-1",title:"第一阶段编程任务"},{key:"6-2",title:"第二阶段编程任务"},{key:"6-3",title:"第三阶段编程任务",children:[{key:"6-3-1",title:"任务 3.1：游戏计时",children:[]},{key:"6-3-2",title:"任务 3.2：光标功能",children:[]},{key:"6-3-3",title:"任务 3.3：调试功能",children:[]}]}]}],showUploadModal:!1,uploadList:[],selectedNode:null,timer:null}},methods:{onCateChange:function(){},onSubmit:function(){},onDragEnter:function(){},onDrop:function(t){console.log(t);var e,a=t.node.eventKey,o=t.dragNode.eventKey,l=t.node.pos.split("-"),n=t.dropPosition-Number(l[l.length-1]),i=function t(e,a,o){e.forEach((function(e,l,n){return e.key===a?o(e,l,n):e.children?t(e.children,a,o):void 0}))},r=Object(s["a"])(this.gData);if(i(r,o,(function(t,a,o){o.splice(a,1),e=t})),t.dropToGap)if((t.node.children||[]).length>0&&t.node.expanded&&1===n)i(r,a,(function(t){t.children=t.children||[],t.children.unshift(e)}));else{var c,p;i(r,a,(function(t,e,a){c=a,p=e})),-1===n?c.splice(p,0,e):c.splice(p+1,0,e)}else i(r,a,(function(t){t.children=t.children||[],t.children.push(e)}));this.nodeList=r},onEditorClick:function(t,e){console.log("Element clicked"),console.log(t),console.log(e)},onSelect:function(t,e){console.log("onSelect",t,e.node.eventKey);var a=e.node;this.selectedNode=e.node,this.content=this.catalogMap[a.eventKey].content},onContextMenu:function(t){for(var e in t.path)if(t.path[e].classList&&t.path[e].classList.contains("ant-tree-node-content-wrapper")){var a=this.$refs.content.getBoundingClientRect();this.selectedNodeText=t.path[e].innerText,console.log(t),this.$refs.nodeMenu.style.left="".concat(t.x-a.left,"px"),this.$refs.nodeMenu.style.top="".concat(t.y-a.top,"px"),this.$refs.nodeMenu.style.display="block";break}},onAddUploadRow:function(){this.uploadForm=Object(n["a"])({},c),this.showUploadModal=!0},onUploadSubmit:function(){var t=this.selectedNode;this.catalogMap[t.eventKey]||(this.catalogMap[t.eventKey]={}),this.catalogMap[t.eventKey].uploadList||(this.catalogMap[t.eventKey].uploadList=[]),this.catalogMap[t.eventKey].uploadList.push(this.uploadForm),this.showUploadModal=!1},onEditUpload:function(t){this.uploadForm=Object(n["a"])({},t),this.showUploadModal=!0},onDelUpload:function(t){var e=this.selectedNode;this.catalogMap[e.eventKey].uploadList.splice(t,1),this.$forceUpdate()},onMouseOut:function(t){var e=this;this.timer=setTimeout((function(){e.$refs.nodeMenu.style.display="none"}),300)},onMouseOver:function(t){this.timer&&(clearTimeout(this.timer),this.timer=null),this.$refs.nodeMenu.style.display="block"},toggleFullscreen:function(){this.fullscreen.toggle(this.$refs.content)},handleUploadChange:function(t){var e=t.file.status;"uploading"!==e&&console.log(t.file,t.fileList),"done"===e?this.$message.success("".concat(t.file.name," file uploaded successfully.")):"error"===e&&this.$message.error("".concat(t.file.name," file upload failed.")),this.fileList=t.fileList},handlePreview:function(){},affixTarget:function(){return function(){return document.querySelector(".modal-resource").querySelector(".ant-modal-wrap")}}}},d=p,u=(a("e2df"),a("2877")),f=Object(u["a"])(d,o,l,!1,null,null,null);e["default"]=f.exports}}]);
//# sourceMappingURL=chunk-06f3da56.92bb43d8.js.map